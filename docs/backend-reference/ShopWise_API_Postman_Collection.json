{
	"info": {
		"_postman_id": "shopwise-api-collection-2024",
		"name": "ShopWise Pakistan - Complete API Collection",
		"description": "Complete API collection for ShopWise Pakistan - AI-Powered Price Comparison Platform\n\n**Version:** 1.0.0\n**Base URL (Dev):** http://localhost:5000/api/v1\n**Base URL (Prod):** https://api.shopwise.pk/api/v1\n\n## Authentication\nMost endpoints require JWT authentication. After logging in, the access token will be automatically set in the collection variables.\n\n## Environment Variables\n- `base_url` - API base URL\n- `access_token` - JWT access token (auto-set after login)\n- `refresh_token` - JWT refresh token (auto-set after login)\n- `user_id` - Current user ID (auto-set after login)\n- `product_id` - Sample product ID for testing\n- `category_id` - Sample category ID for testing\n- `platform_id` - Sample platform ID for testing\n- `alert_id` - Sample alert ID for testing\n- `notification_id` - Sample notification ID for testing\n\n## Usage\n1. Set environment variables (base_url)\n2. Register or login to get access token\n3. Use authenticated endpoints with auto-set token\n4. Explore different API categories\n\n**Last Updated:** November 5, 2024",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000/api/v1",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "product_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "category_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "platform_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "alert_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "notification_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "review_id",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "1. Authentication",
			"description": "User authentication and authorization endpoints",
			"item": [
				{
					"name": "1.1 Register User",
					"event": [						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('access_token', response.data.tokens.accessToken);",
									"    pm.collectionVariables.set('refresh_token', response.data.tokens.refreshToken);",
									"    pm.collectionVariables.set('user_id', response.data.user.id);",
									"    pm.environment.set('access_token', response.data.tokens.accessToken);",
									"    pm.environment.set('refresh_token', response.data.tokens.refreshToken);",
									"    pm.environment.set('user_id', response.data.user.id);",
									"    console.log('âœ… User registered successfully');",
									"    console.log('ğŸ“ Access token saved to variables');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Ahmed Ali\",\n  \"email\": \"ahmed.ali@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"phone\": \"+923001234567\",\n  \"language_preference\": \"ur\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						},
						"description": "Register a new user account"
					},
					"response": []
				},
				{
					"name": "1.2 Login User",
					"event": [						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('access_token', response.data.tokens.accessToken);",
									"    pm.collectionVariables.set('refresh_token', response.data.tokens.refreshToken);",
									"    pm.collectionVariables.set('user_id', response.data.user.id);",
									"    pm.environment.set('access_token', response.data.tokens.accessToken);",
									"    pm.environment.set('refresh_token', response.data.tokens.refreshToken);",
									"    pm.environment.set('user_id', response.data.user.id);",
									"    console.log('âœ… Login successful');",
									"    console.log('ğŸ“ Access token saved to variables');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@shopwise.pk\",\n  \"password\": \"Admin@123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						},
						"description": "Login with existing credentials"
					},
					"response": []
				},
				{
					"name": "1.3 Get Current User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": ["{{base_url}}"],
							"path": ["auth", "me"]
						},
						"description": "Get current authenticated user profile"
					},
					"response": []
				},
				{
					"name": "1.4 Refresh Token",
					"event": [						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('access_token', response.data.tokens.accessToken);",
									"    pm.collectionVariables.set('refresh_token', response.data.tokens.refreshToken);",
									"    pm.environment.set('access_token', response.data.tokens.accessToken);",
									"    pm.environment.set('refresh_token', response.data.tokens.refreshToken);",
									"    console.log('âœ… Token refreshed successfully');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/refresh",
							"host": ["{{base_url}}"],
							"path": ["auth", "refresh"]
						},
						"description": "Refresh access token using refresh token"
					},
					"response": []
				},
				{
					"name": "1.5 Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout"]
						},
						"description": "Logout current user and invalidate tokens"
					},
					"response": []
				},
				{
					"name": "1.6 Forgot Password",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"ahmed.ali@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/forgot-password",
							"host": ["{{base_url}}"],
							"path": ["auth", "forgot-password"]
						},
						"description": "Request password reset link via email"
					},
					"response": []
				},
				{
					"name": "1.7 Reset Password",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"reset_token_from_email\",\n  \"password\": \"NewSecurePass123!\",\n  \"confirmPassword\": \"NewSecurePass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/reset-password",
							"host": ["{{base_url}}"],
							"path": ["auth", "reset-password"]
						},
						"description": "Reset password using token from email"
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Products",
			"description": "Product browsing, search, and filtering endpoints",
			"item": [
				{
					"name": "2.1 Get All Products",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data.products.length > 0) {",
									"        pm.collectionVariables.set('product_id', response.data.products[0]._id);",
									"        pm.environment.set('product_id', response.data.products[0]._id);",
									"        console.log('âœ… Product ID saved for testing');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products?page=1&limit=20&sort_by=price&order=asc",
							"host": ["{{base_url}}"],
							"path": ["products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true
								},
								{
									"key": "brand",
									"value": "Samsung",
									"disabled": true
								},
								{
									"key": "min_price",
									"value": "10000",
									"disabled": true
								},
								{
									"key": "max_price",
									"value": "100000",
									"disabled": true
								},
								{
									"key": "platform",
									"value": "Daraz",
									"disabled": true
								},
								{
									"key": "sort_by",
									"value": "price"
								},
								{
									"key": "order",
									"value": "asc"
								},
								{
									"key": "availability",
									"value": "in_stock",
									"disabled": true
								},
								{
									"key": "condition",
									"value": "new",
									"disabled": true
								},
								{
									"key": "rating_min",
									"value": "4",
									"disabled": true
								}
							]
						},
						"description": "Get all products with optional filters and pagination"
					},
					"response": []
				},
				{
					"name": "2.2 Search Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/search?q=samsung galaxy&page=1&limit=20&sort_by=relevance",
							"host": ["{{base_url}}"],
							"path": ["products", "search"],
							"query": [
								{
									"key": "q",
									"value": "samsung galaxy"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "category",
									"value": "Electronics",
									"disabled": true
								},
								{
									"key": "brand",
									"value": "Samsung",
									"disabled": true
								},
								{
									"key": "min_price",
									"value": "10000",
									"disabled": true
								},
								{
									"key": "max_price",
									"value": "200000",
									"disabled": true
								},
								{
									"key": "sort_by",
									"value": "relevance"
								}
							]
						},
						"description": "Search products by keyword with filters"
					},
					"response": []
				},
				{
					"name": "2.3 Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}"]
						},
						"description": "Get detailed information about a specific product"
					},
					"response": []
				},
				{
					"name": "2.4 Get Similar Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/similar?limit=10",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "similar"],
							"query": [
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get similar products based on category, brand, and specifications"
					},
					"response": []
				},
				{
					"name": "2.5 Get Featured Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/featured?limit=10",
							"host": ["{{base_url}}"],
							"path": ["products", "featured"],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "category",
									"value": "Electronics",
									"disabled": true
								}
							]
						},
						"description": "Get featured/promoted products"
					},
					"response": []
				},
				{
					"name": "2.6 Get Trending Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/trending?limit=20&period=7d",
							"host": ["{{base_url}}"],
							"path": ["products", "trending"],
							"query": [
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "period",
									"value": "7d",
									"description": "7d, 30d, 90d"
								}
							]
						},
						"description": "Get trending products based on views and searches"
					},
					"response": []
				},				{
					"name": "2.7 Get Best Deals",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/deals?limit=20&min_discount=20",
							"host": ["{{base_url}}"],
							"path": ["products", "deals"],
							"query": [
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "min_discount",
									"value": "20",
									"description": "Minimum discount percentage"
								},
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true,
									"description": "Filter by category ID or name"
								}
							]
						},
						"description": "Get products with best discounts/deals"
					},
					"response": []
				},
				{
					"name": "2.8 Get Product Price History",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/price-history?days=30",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "price-history"],
							"query": [
								{
									"key": "days",
									"value": "30",
									"description": "Number of days of history (max 365)"
								}
							]
						},
						"description": "Get price history for a product (Currently returns empty - will be implemented with SaleHistory integration)"
					},
					"response": []
				},				{
					"name": "2.9 Get Available Filters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/filters?category={{category_id}}",
							"host": ["{{base_url}}"],
							"path": ["products", "filters"],
							"query": [
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true,
									"description": "Optional category ID to filter available options"
								}
							]
						},
						"description": "Get available filter options for product search including brands, platforms, categories, price ranges, conditions, and availability options. When a category is provided, filters are scoped to that category."
					},
					"response": []
				},
				{
					"name": "2.10 Get All Brands",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/brands?category={{category_id}}",
							"host": ["{{base_url}}"],
							"path": ["products", "brands"],
							"query": [
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true
								}
							]
						},
						"description": "Get list of all available brands"
					},
					"response": []
				},
				{
					"name": "2.11 Compare Products",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_ids\": [\n    \"{{product_id}}\",\n    \"507f1f77bcf86cd799439012\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/products/compare",
							"host": ["{{base_url}}"],
							"path": ["products", "compare"]
						},
						"description": "Compare multiple products side-by-side"
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Categories",
			"description": "Category browsing and product filtering by category",
			"item": [
				{
					"name": "3.1 Get All Categories",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data.categories.length > 0) {",
									"        pm.collectionVariables.set('category_id', response.data.categories[0]._id);",
									"        pm.environment.set('category_id', response.data.categories[0]._id);",
									"        console.log('âœ… Category ID saved for testing');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/categories?hierarchical=true",
							"host": ["{{base_url}}"],
							"path": ["categories"],
							"query": [
								{
									"key": "hierarchical",
									"value": "true",
									"description": "Return hierarchical structure"
								}
							]
						},
						"description": "Get all categories in hierarchical structure"
					},
					"response": []
				},
				{
					"name": "3.2 Get Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/categories/{{category_id}}",
							"host": ["{{base_url}}"],
							"path": ["categories", "{{category_id}}"]
						},
						"description": "Get specific category details with subcategories"
					},
					"response": []
				},
				{
					"name": "3.3 Get Products in Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/categories/{{category_id}}/products?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["categories", "{{category_id}}", "products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get all products in a specific category"
					},
					"response": []
				},
				{
					"name": "3.4 Get Subcategories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/categories/{{category_id}}/subcategories",
							"host": ["{{base_url}}"],
							"path": ["categories", "{{category_id}}", "subcategories"]
						},
						"description": "Get all subcategories of a category"
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Reviews",
			"description": "Product reviews and ratings endpoints",
			"item": [
				{
					"name": "4.1 Get Product Reviews",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data.reviews.length > 0) {",
									"        pm.collectionVariables.set('review_id', response.data.reviews[0]._id);",
									"        pm.environment.set('review_id', response.data.reviews[0]._id);",
									"        console.log('âœ… Review ID saved for testing');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/reviews?page=1&limit=20&sort_by=date&rating=5",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "reviews"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "sort_by",
									"value": "date",
									"description": "date, rating, helpfulness"
								},
								{
									"key": "rating",
									"value": "5",
									"disabled": true,
									"description": "Filter by rating (1-5)"
								}
							]
						},
						"description": "Get all reviews for a specific product"
					},
					"response": []
				},
				{
					"name": "4.2 Get Review by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reviews/{{review_id}}",
							"host": ["{{base_url}}"],
							"path": ["reviews", "{{review_id}}"]
						},
						"description": "Get detailed information about a specific review"
					},
					"response": []
				},
				{
					"name": "4.3 Get Sentiment Analysis",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/reviews/sentiment",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "reviews", "sentiment"]
						},
						"description": "Get sentiment analysis summary for product reviews"
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Price History & Tracking",
			"description": "Price tracking, history, and predictions",
			"item": [
				{
					"name": "5.1 Get Price History",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/price-history?period=30d",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "price-history"],
							"query": [
								{
									"key": "period",
									"value": "30d",
									"description": "7d, 30d, 90d, 180d, 365d"
								}
							]
						},
						"description": "Get historical price data for a product"
					},
					"response": []
				},
				{
					"name": "5.2 Get Price Prediction",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/price-prediction?days=30",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "price-prediction"],
							"query": [
								{
									"key": "days",
									"value": "30",
									"description": "Number of days to predict"
								}
							]
						},
						"description": "Get AI-powered price predictions for future dates"
					},
					"response": []
				},
				{
					"name": "5.3 Get Best Price",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/{{product_id}}/best-price",
							"host": ["{{base_url}}"],
							"path": ["products", "{{product_id}}", "best-price"]
						},
						"description": "Get best current price across all platforms"
					},
					"response": []
				},
				{
					"name": "5.4 Get Sale Events",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/sales/events?upcoming=true&platform=Daraz",
							"host": ["{{base_url}}"],
							"path": ["sales", "events"],
							"query": [
								{
									"key": "upcoming",
									"value": "true",
									"description": "Show only upcoming events"
								},
								{
									"key": "platform",
									"value": "Daraz",
									"disabled": true
								}
							]
						},
						"description": "Get upcoming sale events across platforms"
					},
					"response": []
				}
			]
		},
		{
			"name": "6. User Profile",
			"description": "User profile management and preferences",
			"item": [
				{
					"name": "6.1 Get User Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/profile",
							"host": ["{{base_url}}"],
							"path": ["users", "profile"]
						},
						"description": "Get current user profile information"
					},
					"response": []
				},
				{
					"name": "6.2 Update User Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Ahmed Ali Khan\",\n  \"phone\": \"+923001234567\",\n  \"language_preference\": \"en\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/profile",
							"host": ["{{base_url}}"],
							"path": ["users", "profile"]
						},
						"description": "Update user profile information"
					},
					"response": []
				},
				{
					"name": "6.3 Update User Preferences",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"preferences\": {\n    \"categories_of_interest\": [\"{{category_id}}\"],\n    \"preferred_brands\": [\"Samsung\", \"Apple\"],\n    \"notification_preferences\": {\n      \"email\": true,\n      \"push\": true,\n      \"whatsapp\": false\n    },\n    \"budget_range\": {\n      \"min\": 10000,\n      \"max\": 100000\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/preferences",
							"host": ["{{base_url}}"],
							"path": ["users", "preferences"]
						},
						"description": "Update user preferences for notifications and recommendations"
					},
					"response": []
				},
				{
					"name": "6.4 Get User Activity",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/activity?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["users", "activity"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get user activity history (searches, views, etc.)"
					},
					"response": []
				}
			]
		},
		{
			"name": "7. Search",
			"description": "Global search and search history endpoints",
			"item": [
				{
					"name": "7.1 Global Search",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search?q=samsung&type=products&page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["search"],
							"query": [
								{
									"key": "q",
									"value": "samsung"
								},
								{
									"key": "type",
									"value": "products",
									"description": "products, categories, brands"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Global search across products, categories, and brands"
					},
					"response": []
				},
				{
					"name": "7.2 Get Search Suggestions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/suggestions?q=sam&limit=10",
							"host": ["{{base_url}}"],
							"path": ["search", "suggestions"],
							"query": [
								{
									"key": "q",
									"value": "sam"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get autocomplete search suggestions"
					},
					"response": []
				},
				{
					"name": "7.3 Get Search History",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/history?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["search", "history"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get user's search history"
					},
					"response": []
				},
				{
					"name": "7.4 Clear Search History",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/history",
							"host": ["{{base_url}}"],
							"path": ["search", "history"]
						},
						"description": "Clear user's entire search history"
					},
					"response": []
				}
			]
		},
		{
			"name": "8. Alerts & Notifications",
			"description": "Price alerts and notification management",
			"item": [
				{
					"name": "8.1 Create Price Alert",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('alert_id', response.data._id);",
									"    pm.environment.set('alert_id', response.data._id);",
									"    console.log('âœ… Alert ID saved for testing');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_id\": \"{{product_id}}\",\n  \"alert_type\": \"price_drop\",\n  \"target_price\": 300000,\n  \"notification_method\": [\"email\", \"push\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/alerts",
							"host": ["{{base_url}}"],
							"path": ["alerts"]
						},
						"description": "Create a new price alert for a product"
					},
					"response": []
				},
				{
					"name": "8.2 Get User Alerts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts?status=active&page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["alerts"],
							"query": [
								{
									"key": "status",
									"value": "active",
									"description": "active, triggered, expired"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get all alerts created by the user"
					},
					"response": []
				},
				{
					"name": "8.3 Get Alert by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/{{alert_id}}",
							"host": ["{{base_url}}"],
							"path": ["alerts", "{{alert_id}}"]
						},
						"description": "Get specific alert details"
					},
					"response": []
				},
				{
					"name": "8.4 Update Alert",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"target_price\": 280000,\n  \"notification_method\": [\"email\", \"push\", \"whatsapp\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/alerts/{{alert_id}}",
							"host": ["{{base_url}}"],
							"path": ["alerts", "{{alert_id}}"]
						},
						"description": "Update an existing alert"
					},
					"response": []
				},
				{
					"name": "8.5 Delete Alert",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/{{alert_id}}",
							"host": ["{{base_url}}"],
							"path": ["alerts", "{{alert_id}}"]
						},
						"description": "Delete a price alert"
					},
					"response": []
				},
				{
					"name": "8.6 Get Notifications",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data.notifications.length > 0) {",
									"        pm.collectionVariables.set('notification_id', response.data.notifications[0]._id);",
									"        pm.environment.set('notification_id', response.data.notifications[0]._id);",
									"        console.log('âœ… Notification ID saved for testing');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications?status=unread&page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["notifications"],
							"query": [
								{
									"key": "status",
									"value": "unread",
									"description": "read, unread, all"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get user notifications"
					},
					"response": []
				},
				{
					"name": "8.7 Mark Notification as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/{{notification_id}}/read",
							"host": ["{{base_url}}"],
							"path": ["notifications", "{{notification_id}}", "read"]
						},
						"description": "Mark a notification as read"
					},
					"response": []
				},
				{
					"name": "8.8 Delete Notification",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/{{notification_id}}",
							"host": ["{{base_url}}"],
							"path": ["notifications", "{{notification_id}}"]
						},
						"description": "Delete a notification"
					},
					"response": []
				}
			]
		},
		{
			"name": "9. Platforms",
			"description": "E-commerce platform information",
			"item": [
				{
					"name": "9.1 Get All Platforms",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data.platforms.length > 0) {",
									"        pm.collectionVariables.set('platform_id', response.data.platforms[0]._id);",
									"        pm.environment.set('platform_id', response.data.platforms[0]._id);",
									"        console.log('âœ… Platform ID saved for testing');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/platforms",
							"host": ["{{base_url}}"],
							"path": ["platforms"]
						},
						"description": "Get all e-commerce platforms"
					},
					"response": []
				},
				{
					"name": "9.2 Get Platform by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/platforms/{{platform_id}}",
							"host": ["{{base_url}}"],
							"path": ["platforms", "{{platform_id}}"]
						},
						"description": "Get specific platform details"
					},
					"response": []
				},
				{
					"name": "9.3 Get Platform Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/platforms/{{platform_id}}/products?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["platforms", "{{platform_id}}", "products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get all products from a specific platform"
					},
					"response": []
				}
			]
		},
		{
			"name": "10. Analytics & Recommendations",
			"description": "User analytics and personalized recommendations",
			"item": [
				{
					"name": "10.1 Get Personalized Recommendations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/recommendations?limit=20",
							"host": ["{{base_url}}"],
							"path": ["recommendations"],
							"query": [
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get AI-powered personalized product recommendations"
					},
					"response": []
				},
				{
					"name": "10.2 Get Trending Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/recommendations/trending?limit=20&category={{category_id}}",
							"host": ["{{base_url}}"],
							"path": ["recommendations", "trending"],
							"query": [
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true
								}
							]
						},
						"description": "Get trending products based on user behavior"
					},
					"response": []
				},
				{
					"name": "10.3 Get Related Recommendations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/recommendations/based-on/{{product_id}}?limit=10",
							"host": ["{{base_url}}"],
							"path": ["recommendations", "based-on", "{{product_id}}"],
							"query": [
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get recommendations based on a specific product"
					},
					"response": []
				},
				{
					"name": "10.4 Get User Behavior Analytics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/analytics/user-behavior?period=30d",
							"host": ["{{base_url}}"],
							"path": ["analytics", "user-behavior"],
							"query": [
								{
									"key": "period",
									"value": "30d",
									"description": "7d, 30d, 90d"
								}
							]
						},
						"description": "Get user behavior analytics and insights"
					},
					"response": []
				},
				{
					"name": "10.5 Get Price Trend Analytics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/analytics/price-trends?category={{category_id}}&period=90d",
							"host": ["{{base_url}}"],
							"path": ["analytics", "price-trends"],
							"query": [
								{
									"key": "category",
									"value": "{{category_id}}",
									"disabled": true
								},
								{
									"key": "period",
									"value": "90d"
								}
							]
						},
						"description": "Get price trend analytics for categories"
					},
					"response": []
				}
			]
		},
		{
			"name": "11. Comparison",
			"description": "Product comparison across platforms",
			"item": [
				{
					"name": "11.1 Compare Products",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_ids\": [\n    \"{{product_id}}\",\n    \"507f1f77bcf86cd799439012\",\n    \"507f1f77bcf86cd799439013\"\n  ],\n  \"comparison_fields\": [\n    \"price\",\n    \"specifications\",\n    \"reviews\",\n    \"seller_trust\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/compare",
							"host": ["{{base_url}}"],
							"path": ["compare"]
						},
						"description": "Compare multiple products side-by-side across platforms"
					},
					"response": []
				}
			]
		},
		{
			"name": "12. Admin",
			"description": "Admin-only endpoints for platform management",
			"item": [
				{
					"name": "12.1 Create Product (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Samsung Galaxy S24 Ultra\",\n  \"brand\": \"Samsung\",\n  \"description\": \"Latest flagship smartphone\",\n  \"price\": 399999,\n  \"platform_id\": \"{{platform_id}}\",\n  \"category_id\": \"{{category_id}}\",\n  \"specifications\": {\n    \"RAM\": \"12GB\",\n    \"Storage\": \"256GB\"\n  },\n  \"availability\": \"in_stock\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/products",
							"host": ["{{base_url}}"],
							"path": ["admin", "products"]
						},
						"description": "Create a new product (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.2 Update Product (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"price\": 389999,\n  \"sale_price\": 379999,\n  \"availability\": \"in_stock\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/products/{{product_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "products", "{{product_id}}"]
						},
						"description": "Update product information (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.3 Delete Product (Admin)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/products/{{product_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "products", "{{product_id}}"]
						},
						"description": "Delete a product (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.4 Get All Users (Admin)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/users?page=1&limit=50&role=user",
							"host": ["{{base_url}}"],
							"path": ["admin", "users"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "50"
								},
								{
									"key": "role",
									"value": "user",
									"disabled": true,
									"description": "user, admin"
								}
							]
						},
						"description": "Get all users (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.5 Update User Status (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"is_active\": false,\n  \"reason\": \"Violation of terms of service\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users/{{user_id}}/status",
							"host": ["{{base_url}}"],
							"path": ["admin", "users", "{{user_id}}", "status"]
						},
						"description": "Update user status (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.6 Create Platform (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"New E-commerce Platform\",\n  \"base_url\": \"https://example.com\",\n  \"logo\": \"https://example.com/logo.png\",\n  \"description\": \"New platform description\",\n  \"is_active\": true,\n  \"trust_score\": 4.5\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/platforms",
							"host": ["{{base_url}}"],
							"path": ["admin", "platforms"]
						},
						"description": "Create a new platform (Admin only)"
					},
					"response": []
				},
				{
					"name": "12.7 Update Platform (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"is_active\": true,\n  \"trust_score\": 4.8\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/platforms/{{platform_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "platforms", "{{platform_id}}"]
						},
						"description": "Update platform information (Admin only)"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-refresh token if expired (optional)",
					"// Uncomment to enable auto-refresh",
					"// const token = pm.collectionVariables.get('access_token');",
					"// if (!token) {",
					"//     console.log('âš ï¸ No access token found. Please login first.');",
					"// }"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script",
					"const responseCode = pm.response.code;",
					"",
					"// Log response status",
					"if (responseCode >= 200 && responseCode < 300) {",
					"    console.log('âœ… Request successful:', responseCode);",
					"} else if (responseCode >= 400 && responseCode < 500) {",
					"    console.log('âš ï¸ Client error:', responseCode);",
					"} else if (responseCode >= 500) {",
					"    console.log('âŒ Server error:', responseCode);",
					"}",
					"",
					"// Auto-handle token expiration",
					"if (responseCode === 401) {",
					"    const response = pm.response.json();",
					"    if (response.error && response.error.code === 'TOKEN_EXPIRED') {",
					"        console.log('ğŸ”„ Token expired. Please refresh using /auth/refresh endpoint.');",
					"    }",
					"}"
				]
			}
		}
	]
}
